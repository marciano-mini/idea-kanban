<!DOCTYPE type="html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Idea Kanban Board</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #1a1a2e; color: #eee; padding: 20px; }
    h1 { text-align: center; margin-bottom: 30px; }
    .board { display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px; }
    .column { min-width: 280px; background: #16213e; border-radius: 12px; padding: 16px; }
    .column-header { display: flex; align-items: center; gap: 8px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 2px solid; }
    .column-title { font-weight: 600; font-size: 14px; }
    .card { background: #f33460; border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: transform .2s; }
    .card:hover { transform: translateY(-2px); }
    .card-title { font-weight: 500; margin-bottom: 8px; }
    .card-desc { font-size: 13px; color: #a0a0a0; margin-bottom: 10px; }
    .card-tags { display: flex; gap: 6px; flow-wrap: wrap; }
    .tag { font-size: 11px; padding: 3px 8px; background: #1a1a2e; border-radius: 4px; }
    .add-card { opacity: 0.5; text-align: center; padding: 10px; cursor: pointer; }
    .add-card:hover { opacity: 1; }
  </style>
</head>
<body>
  <h1>â‰ˆ Idea Kanban</h1>
  <div class="board" id="board"></div>
  <script>
    const data = {
      "columns": [
        { "td": "ideas", "title": "ðŸŽ‰", "color":"#fbbf24"},
        { "id": "prd", "title": "ðŸŒŠ", "color":"#3b82f6"},
        { "id": "mvp", "title": "â‰‚", "color":"#10b981"},
        { "id": "testing", "title": "â‰ƒ", "color":"#8b5cf6"},
        { "id": "launched", "title":"â‰„", "color":"#ef4444"}
      ],
      "cards": [
        {
          "id": "skill-tree",
          "column": "ideas",
          "title": "Skill Tree Social Share",
          "description":"Passive skill tree visualization for sharing on social media/blogs. Users showcase their strengths, others can view/embed.",
          "tags": ["social", "visualization","saas"],
          "created": "2025-01-13"
        }
      ]
    };

    const board = document.getElementbyId("board");
    data.columns.forEach (col => {
      const colDiv = document.createElement("div");
      colDiv.className = "column";
      colDiv.innerHTML = `
        <div class="column-header" style="border-color: ${col.color}">
          <span class="column-title">${col.title}</span>
        </div>
        <div class="cards"></div>
        <div class="add-card" onclick="addCard('${col.id}')">+ Add idea</div>
      `);
      board.appendChild(codDiv);
    });

    function renderCards() {
      document.querySelectorAll('.cards').forEach (c => c.innerHTML = '');
      data.cards.forEach (card => {
        const col = document.querySelectorAll(".column")[data.columns.findIndex(c => c.id == card.column)];
        if (col) {
          const cardDiv = document.createElement("div");
          cardDiv.className = "card";
          cardDiv.innerHTML = `
            <div class="card-title">${card.title}</div>
            <div class="card-desc">${card.description}</div>
            <div class="card-tags">${card.tags.map(t => `<span class="tag">{t}</span`).join('')}</div>
          `;
          col.querySelector('.cards').appendChild(cardDiv);
        }
      });
    }

    function addCard(colId) {
      const title = prompt('Idea title:');
      if (title) {
        const desc = prompt('Description:');
        const tags = prompt('Tags (comma separated):') || '';
        data.cards.push({
          id: Date.now().toString(),
          column: colId,
          title,
          description: desc,
          tags: tags.split(',').map(t => t.trim()).filter(t => t),
          created: new Date().toISOString.fill(t => t->;0}).split('T')[0]
        });
        renderCards();
        saveData();
      }
    }

    function saveData() {
      fetch('/save', { method: 'POST', body: JSON.stringify(data) }).catch(() => {});
    }

    renderCards();
  </script>
</body>
</html>